<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Incitation Financière - Prime CEE BAT-TH-116</title>

  <!--
  === DÉPLOIEMENT GITHUB PAGES ===
  1. Créer un dépôt GitHub (public)
  2. Nom recommandé : cee-bat-th-116-calculateur
  3. Ajouter ce fichier comme : index.html à la racine
  4. GitHub → Settings → Pages
     - Source: Deploy from branch
     - Branch: main / root
  5. URL finale : https://VOTRE_USERNAME.github.io/cee-bat-th-116-calculateur/
  ===============================
  -->

  <style>
  body {
    font-family: Arial, sans-serif;
    max-width: 900px;
    margin: 20px auto;
    padding: 0 15px;
  }

  h1 { margin-bottom: 10px; font-size: 1.6rem; text-align: center; }
  p { line-height: 1.4; }

  label {
    display: block;
    margin-top: 15px;
    font-weight: bold;
  }

  select, input {
    padding: 8px;
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    font-size: 1rem;
  }

  .usage-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
  }

  button {
    margin-top: 20px;
    padding: 12px 20px;
    font-size: 1rem;
    width: 100%;
    max-width: 300px;
  }

  .result {
    margin-top: 30px;
    padding: 15px;
    border: 1px solid #ccc;
    background: #f7f7f7;
    overflow-x: auto;
  }

  table {
    border-collapse: collapse;
    margin-top: 10px;
    width: 100%;
  }

  th, td {
    border: 1px solid #ccc;
    padding: 6px 10px;
    text-align: right;
    font-size: 0.95rem;
  }

  th { background: #eee; }

  @media (max-width: 600px) {
    h1 { font-size: 1.3rem; }
    .usage-grid { grid-template-columns: 1fr; }
    button { max-width: 100%; }
    label { font-size: 0.95rem; }
    th, td { font-size: 0.85rem; }
  }
  </style>
</head>
<body>

<h1>Incitation Financière<br>Prime CEE BAT-TH-116</h1>
<p>Estimation du volume de certificats d’économies d’énergie (kWh cumac) pour un projet de gestion technique du bâtiment (GTB) utilisant le Heatzy Cool.</p>

<label>Classe du système Heatzy Cool : Classe A <span style="font-weight:normal">– Suivez ce lien pour en savoir plus : <a href="https://www.heatzy.com/cool" target="_blank">www.heatzy.com/cool</a></span></label>

<label>Zone climatique</label>
<select id="zone">
  <option value="H1">H1</option>
  <option value="H2">H2</option>
  <option value="H3">H3</option>
</select>

<label>Secteur d’activité</label>
<select id="sector">
  <option value="Bureaux">Bureaux</option>
  <option value="Enseignement">Enseignement</option>
  <option value="Commerces">Commerces</option>
  <option value="Hotellerie">Hôtellerie / Restauration</option>
  <option value="Sante">Santé</option>
  <option value="Autres">Autres secteurs</option>
</select>

<label>Surface gérée par usage (m²)</label>
<div class="usage-grid">
  <input type="number" id="chauffage" placeholder="Chauffage" />
  <input type="number" id="clim" placeholder="Refroidissement / Climatisation" />
</div>

<label>Rémunération des CEE <input type="number" id="price" placeholder="€/MWh cumac" style="margin-left:10px; max-width:200px; display:inline-block;" /></label>

<button onclick="calculate()">Calculer</button>

<div class="result" id="result" style="display:none"></div>

<script>
const zoneCoeff = { H1: 1.1, H2: 0.9, H3: 0.6 };

const data = {
  A: {
    Bureaux:        { chauffage:400, clim:260 },
    Enseignement:   { chauffage:200, clim:71  },
    Commerces:      { chauffage:560, clim:160 },
    Hotellerie:     { chauffage:420, clim:71  },
    Sante:          { chauffage:200, clim:71  },
    Autres:         { chauffage:200, clim:71  }
  }
};

function calculate() {
  const cls = 'A';
  const zone = document.getElementById('zone').value;
  const sector = document.getElementById('sector').value;

  const surfaces = {
    chauffage: Number(document.getElementById('chauffage').value || 0),
    clim: Number(document.getElementById('clim').value || 0)
  };

  let total = 0;
  let rows = '';

  for (const usage in surfaces) {
    if (surfaces[usage] > 0) {
      const value = surfaces[usage] * data[cls][sector][usage] * zoneCoeff[zone];
      total += value;
      rows += `<tr><td>${usage}</td><td>${value.toFixed(0)}</td></tr>`;
    }
  }

  const price = Number(document.getElementById('price').value || 0);
  const totalMWh = total / 1000;
  const payout = totalMWh * price;

  document.getElementById('result').style.display = 'block';
  document.getElementById('result').innerHTML = `
    <h3>Total CEE</h3>
    <p><strong>${total.toFixed(0)} kWh cumac</strong> | <strong>${totalMWh.toFixed(2)} MWh cumac</strong></p>
    <p><strong>Montant total estimé : €${payout.toFixed(2)}</strong></p>
    <table>
      <tr><th>Usage</th><th>kWh cumac</th></tr>
      ${rows}
    </table>
  `;
}
</script>

</body>
</html>
